/* * Copyright © 2019-2020 zenoslin<zenoslin@outlook.com> * Released under the MIT License. */
!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e(require("vue")):"function"==typeof define&&define.amd?define(["vue"],e):(t=t||self).toast=e(t.Vue)}(this,(function(t){"use strict";function e(t,e){return t(e={exports:{}},e.exports),e.exports}t=t&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t;var n=e((function(t){var e=t.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=e)})),r=e((function(t){var e=t.exports={version:"2.6.11"};"number"==typeof __e&&(__e=e)})),o=(r.version,function(t){return"object"==typeof t?null!==t:"function"==typeof t}),i=function(t){if(!o(t))throw TypeError(t+" is not an object!");return t},c=function(t){try{return!!t()}catch(t){return!0}},u=!c((function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a})),s=n.document,a=o(s)&&o(s.createElement),f=function(t){return a?s.createElement(t):{}},l=!u&&!c((function(){return 7!=Object.defineProperty(f("div"),"a",{get:function(){return 7}}).a})),p=function(t,e){if(!o(t))return t;var n,r;if(e&&"function"==typeof(n=t.toString)&&!o(r=n.call(t)))return r;if("function"==typeof(n=t.valueOf)&&!o(r=n.call(t)))return r;if(!e&&"function"==typeof(n=t.toString)&&!o(r=n.call(t)))return r;throw TypeError("Can't convert object to primitive value")},d=Object.defineProperty,y={f:u?Object.defineProperty:function(t,e,n){if(i(t),e=p(e,!0),i(n),l)try{return d(t,e,n)}catch(t){}if("get"in n||"set"in n)throw TypeError("Accessors not supported!");return"value"in n&&(t[e]=n.value),t}},v=function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}},h=u?function(t,e,n){return y.f(t,e,v(1,n))}:function(t,e,n){return t[e]=n,t},m={}.hasOwnProperty,g=function(t,e){return m.call(t,e)},b=0,O=Math.random(),_=function(t){return"Symbol(".concat(void 0===t?"":t,")_",(++b+O).toString(36))},w=e((function(t){var e=n["__core-js_shared__"]||(n["__core-js_shared__"]={});(t.exports=function(t,n){return e[t]||(e[t]=void 0!==n?n:{})})("versions",[]).push({version:r.version,mode:"global",copyright:"© 2019 Denis Pushkarev (zloirock.ru)"})})),S=w("native-function-to-string",Function.toString),j=e((function(t){var e=_("src"),o=(""+S).split("toString");r.inspectSource=function(t){return S.call(t)},(t.exports=function(t,r,i,c){var u="function"==typeof i;u&&(g(i,"name")||h(i,"name",r)),t[r]!==i&&(u&&(g(i,e)||h(i,e,t[r]?""+t[r]:o.join(String(r)))),t===n?t[r]=i:c?t[r]?t[r]=i:h(t,r,i):(delete t[r],h(t,r,i)))})(Function.prototype,"toString",(function(){return"function"==typeof this&&this[e]||S.call(this)}))})),P=function(t,e,n){if(function(t){if("function"!=typeof t)throw TypeError(t+" is not a function!")}(t),void 0===e)return t;switch(n){case 1:return function(n){return t.call(e,n)};case 2:return function(n,r){return t.call(e,n,r)};case 3:return function(n,r,o){return t.call(e,n,r,o)}}return function(){return t.apply(e,arguments)}},T=function(t,e,o){var i,c,u,s,a=t&T.F,f=t&T.G,l=t&T.S,p=t&T.P,d=t&T.B,y=f?n:l?n[e]||(n[e]={}):(n[e]||{}).prototype,v=f?r:r[e]||(r[e]={}),m=v.prototype||(v.prototype={});for(i in f&&(o=e),o)u=((c=!a&&y&&void 0!==y[i])?y:o)[i],s=d&&c?P(u,n):p&&"function"==typeof u?P(Function.call,u):u,y&&j(y,i,u,t&T.U),v[i]!=u&&h(v,i,s),p&&m[i]!=u&&(m[i]=u)};n.core=r,T.F=1,T.G=2,T.S=4,T.P=8,T.B=16,T.W=32,T.U=64,T.R=128;var C,x=T,E={}.toString,L=Object("z").propertyIsEnumerable(0)?Object:function(t){return"String"==function(t){return E.call(t).slice(8,-1)}(t)?t.split(""):Object(t)},M=function(t){if(null==t)throw TypeError("Can't call method on  "+t);return t},k=function(t){return L(M(t))},F=Math.ceil,R=Math.floor,D=function(t){return isNaN(t=+t)?0:(t>0?R:F)(t)},A=Math.min,$=Math.max,G=Math.min,I=w("keys"),V=function(t){return I[t]||(I[t]=_(t))},N=(C=!1,function(t,e,n){var r,o,i=k(t),c=(r=i.length)>0?A(D(r),9007199254740991):0,u=function(t,e){return(t=D(t))<0?$(t+e,0):G(t,e)}(n,c);if(C&&e!=e){for(;c>u;)if((o=i[u++])!=o)return!0}else for(;c>u;u++)if((C||u in i)&&i[u]===e)return C||u||0;return!C&&-1}),B=V("IE_PROTO"),H=function(t,e){var n,r=k(t),o=0,i=[];for(n in r)n!=B&&g(r,n)&&i.push(n);for(;e.length>o;)g(r,n=e[o++])&&(~N(i,n)||i.push(n));return i},U="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(","),W=U.concat("length","prototype"),q={f:Object.getOwnPropertyNames||function(t){return H(t,W)}},z={f:Object.getOwnPropertySymbols},X=n.Reflect,K=X&&X.ownKeys||function(t){var e=q.f(i(t)),n=z.f;return n?e.concat(n(t)):e},J={f:{}.propertyIsEnumerable},Q=Object.getOwnPropertyDescriptor,Y={f:u?Q:function(t,e){if(t=k(t),e=p(e,!0),l)try{return Q(t,e)}catch(t){}if(g(t,e))return v(!J.f.call(t,e),t[e])}},Z=function(t,e,n){e in t?y.f(t,e,v(0,n)):t[e]=n};x(x.S,"Object",{getOwnPropertyDescriptors:function(t){for(var e,n,r=k(t),o=Y.f,i=K(r),c={},u=0;i.length>u;)void 0!==(n=o(r,e=i[u++]))&&Z(c,e,n);return c}});var tt=e((function(t){var e=w("wks"),r=n.Symbol,o="function"==typeof r;(t.exports=function(t){return e[t]||(e[t]=o&&r[t]||(o?r:_)("Symbol."+t))}).store=e})),et=tt("unscopables"),nt=Array.prototype;null==nt[et]&&h(nt,et,{});var rt=function(t){nt[et][t]=!0},ot=function(t,e){return{value:e,done:!!t}},it={},ct=Object.keys||function(t){return H(t,U)},ut=u?Object.defineProperties:function(t,e){i(t);for(var n,r=ct(e),o=r.length,c=0;o>c;)y.f(t,n=r[c++],e[n]);return t},st=n.document,at=st&&st.documentElement,ft=V("IE_PROTO"),lt=function(){},pt=function(){var t,e=f("iframe"),n=U.length;for(e.style.display="none",at.appendChild(e),e.src="javascript:",(t=e.contentWindow.document).open(),t.write("<script>document.F=Object<\/script>"),t.close(),pt=t.F;n--;)delete pt.prototype[U[n]];return pt()},dt=Object.create||function(t,e){var n;return null!==t?(lt.prototype=i(t),n=new lt,lt.prototype=null,n[ft]=t):n=pt(),void 0===e?n:ut(n,e)},yt=y.f,vt=tt("toStringTag"),ht=function(t,e,n){t&&!g(t=n?t:t.prototype,vt)&&yt(t,vt,{configurable:!0,value:e})},mt={};h(mt,tt("iterator"),(function(){return this}));var gt=function(t,e,n){t.prototype=dt(mt,{next:v(1,n)}),ht(t,e+" Iterator")},bt=function(t){return Object(M(t))},Ot=V("IE_PROTO"),_t=Object.prototype,wt=Object.getPrototypeOf||function(t){return t=bt(t),g(t,Ot)?t[Ot]:"function"==typeof t.constructor&&t instanceof t.constructor?t.constructor.prototype:t instanceof Object?_t:null},St=tt("iterator"),jt=!([].keys&&"next"in[].keys()),Pt=function(){return this},Tt=function(t,e,n,r,o,i,c){gt(n,e,r);var u,s,a,f=function(t){if(!jt&&t in y)return y[t];switch(t){case"keys":case"values":return function(){return new n(this,t)}}return function(){return new n(this,t)}},l=e+" Iterator",p="values"==o,d=!1,y=t.prototype,v=y[St]||y["@@iterator"]||o&&y[o],m=v||f(o),g=o?p?f("entries"):m:void 0,b="Array"==e&&y.entries||v;if(b&&(a=wt(b.call(new t)))!==Object.prototype&&a.next&&(ht(a,l,!0),"function"!=typeof a[St]&&h(a,St,Pt)),p&&v&&"values"!==v.name&&(d=!0,m=function(){return v.call(this)}),(jt||d||!y[St])&&h(y,St,m),it[e]=m,it[l]=Pt,o)if(u={values:p?m:f("values"),keys:i?m:f("keys"),entries:g},c)for(s in u)s in y||j(y,s,u[s]);else x(x.P+x.F*(jt||d),e,u);return u}(Array,"Array",(function(t,e){this._t=k(t),this._i=0,this._k=e}),(function(){var t=this._t,e=this._k,n=this._i++;return!t||n>=t.length?(this._t=void 0,ot(1)):ot(0,"keys"==e?n:"values"==e?t[n]:[n,t[n]])}),"values");it.Arguments=it.Array,rt("keys"),rt("values"),rt("entries");for(var Ct=tt("iterator"),xt=tt("toStringTag"),Et=it.Array,Lt={CSSRuleList:!0,CSSStyleDeclaration:!1,CSSValueList:!1,ClientRectList:!1,DOMRectList:!1,DOMStringList:!1,DOMTokenList:!0,DataTransferItemList:!1,FileList:!1,HTMLAllCollection:!1,HTMLCollection:!1,HTMLFormElement:!1,HTMLSelectElement:!1,MediaList:!0,MimeTypeArray:!1,NamedNodeMap:!1,NodeList:!0,PaintRequestList:!1,Plugin:!1,PluginArray:!1,SVGLengthList:!1,SVGNumberList:!1,SVGPathSegList:!1,SVGPointList:!1,SVGStringList:!1,SVGTransformList:!1,SourceBufferList:!1,StyleSheetList:!0,TextTrackCueList:!1,TextTrackList:!1,TouchList:!1},Mt=ct(Lt),kt=0;kt<Mt.length;kt++){var Ft,Rt=Mt[kt],Dt=Lt[Rt],At=n[Rt],$t=At&&At.prototype;if($t&&($t[Ct]||h($t,Ct,Et),$t[xt]||h($t,xt,Rt),it[Rt]=Et,Dt))for(Ft in Tt)$t[Ft]||j($t,Ft,Tt[Ft],!0)}var Gt,It,Vt,Nt;Gt="keys",It=function(){return function(t){return ct(bt(t))}},Vt=(r.Object||{})[Gt]||Object[Gt],(Nt={})[Gt]=It(Vt),x(x.S+x.F*c((function(){Vt(1)})),"Object",Nt);var Bt=e((function(t){var e=t.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=e)})),Ht=e((function(t){var e=t.exports={version:"2.6.11"};"number"==typeof __e&&(__e=e)})),Ut=(Ht.version,function(t,e,n){if(function(t){if("function"!=typeof t)throw TypeError(t+" is not a function!")}(t),void 0===e)return t;switch(n){case 1:return function(n){return t.call(e,n)};case 2:return function(n,r){return t.call(e,n,r)};case 3:return function(n,r,o){return t.call(e,n,r,o)}}return function(){return t.apply(e,arguments)}}),Wt=function(t){return"object"==typeof t?null!==t:"function"==typeof t},qt=function(t){if(!Wt(t))throw TypeError(t+" is not an object!");return t},zt=function(t){try{return!!t()}catch(t){return!0}},Xt=!zt((function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a})),Kt=Bt.document,Jt=Wt(Kt)&&Wt(Kt.createElement),Qt=!Xt&&!zt((function(){return 7!=Object.defineProperty((t="div",Jt?Kt.createElement(t):{}),"a",{get:function(){return 7}}).a;var t})),Yt=Object.defineProperty,Zt={f:Xt?Object.defineProperty:function(t,e,n){if(qt(t),e=function(t,e){if(!Wt(t))return t;var n,r;if(e&&"function"==typeof(n=t.toString)&&!Wt(r=n.call(t)))return r;if("function"==typeof(n=t.valueOf)&&!Wt(r=n.call(t)))return r;if(!e&&"function"==typeof(n=t.toString)&&!Wt(r=n.call(t)))return r;throw TypeError("Can't convert object to primitive value")}(e,!0),qt(n),Qt)try{return Yt(t,e,n)}catch(t){}if("get"in n||"set"in n)throw TypeError("Accessors not supported!");return"value"in n&&(t[e]=n.value),t}},te=Xt?function(t,e,n){return Zt.f(t,e,function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}}(1,n))}:function(t,e,n){return t[e]=n,t},ee={}.hasOwnProperty,ne=function(t,e){return ee.call(t,e)},re=function(t,e,n){var r,o,i,c=t&re.F,u=t&re.G,s=t&re.S,a=t&re.P,f=t&re.B,l=t&re.W,p=u?Ht:Ht[e]||(Ht[e]={}),d=p.prototype,y=u?Bt:s?Bt[e]:(Bt[e]||{}).prototype;for(r in u&&(n=e),n)(o=!c&&y&&void 0!==y[r])&&ne(p,r)||(i=o?y[r]:n[r],p[r]=u&&"function"!=typeof y[r]?n[r]:f&&o?Ut(i,Bt):l&&y[r]==i?function(t){var e=function(e,n,r){if(this instanceof t){switch(arguments.length){case 0:return new t;case 1:return new t(e);case 2:return new t(e,n)}return new t(e,n,r)}return t.apply(this,arguments)};return e.prototype=t.prototype,e}(i):a&&"function"==typeof i?Ut(Function.call,i):i,a&&((p.virtual||(p.virtual={}))[r]=i,t&re.R&&d&&!d[r]&&te(d,r,i)))};re.F=1,re.G=2,re.S=4,re.P=8,re.B=16,re.W=32,re.U=64,re.R=128;var oe=re;oe(oe.S+oe.F*!Xt,"Object",{defineProperty:Zt.f});var ie=Ht.Object,ce=function(t,e,n){return ie.defineProperty(t,e,n)};function ue(t,e,n){return e in t?ce(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function se(t,e,n,r,o,i,c,u,s,a){"boolean"!=typeof c&&(s=u,u=c,c=!1); var f="function"==typeof n?n.options:n;let l;if(t&&t.render&&(f.render=t.render,f.staticRenderFns=t.staticRenderFns,f._compiled=!0,o&&(f.functional=!0)),r&&(f._scopeId=r),i?(l=function(t){(t=t||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext)||"undefined"==typeof __VUE_SSR_CONTEXT__||(t=__VUE_SSR_CONTEXT__),e&&e.call(this,s(t)),t&&t._registeredComponents&&t._registeredComponents.add(i)},f._ssrRegister=l):e&&(l=c?function(t){e.call(this,a(t,this.$root.$options.shadowRoot))}:function(t){e.call(this,u(t))}),l)if(f.functional){ var t=f.render;f.render=function(e,n){return l.call(n),t(e,n)}}else{ var t=f.beforeCreate;f.beforeCreate=t?[].concat(t,l):[l]}return n} var ae={name:"me-loading"};var fe=function(){var t=this.$createElement,e=this._self._c||t;return e("span",{staticClass:"me-loading"},[e("svg",{staticClass:"me-loading_circular",attrs:{viewBox:"25 25 50 50"}},[e("circle",{attrs:{cx:"50",cy:"50",r:"20",fill:"none"}})])])};fe._withStripped=!0; var le={name:"me-toast",components:{"me-loading":se({render:fe,staticRenderFns:[]},void 0,ae,void 0,!1,void 0,!1,void 0,void 0,void 0)},data:function(){return{message:"",visible:!1,duration:2e3,timer:null,type:"",bgColor:"rgba(50, 50, 51, 0.88)",onOpen:null,onClose:null,cover:!1,coverColor:"rgba(0, 0, 0, 0)",transition:"me-fade"}},computed:{toastStyle:function(){return"".concat(this.cover?"background: ".concat(this.coverColor):"")}},methods:{show:function(){var t=this;this.clearTimer(),this.visible=!0,"function"==typeof this.onOpen&&this.onOpen(),"loading"!==this.type&&this.duration&&(this.timer=setTimeout((function(){t.hide()}),this.duration))},hide:function(){this.clearTimer(),this.visible=!1,"function"==typeof this.onClose&&this.onClose()},clearTimer:function(){this.timer&&(clearTimeout(this.timer),this.timer=null)}},destroyed:function(){this.timer=null}};var pe=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("transition",{attrs:{name:t.transition}},[t.visible?n("div",{staticClass:"me-toast",class:{"me-toast_cover":t.cover},style:t.toastStyle},["loading"===t.type?n("div",{staticClass:"me-toast_loading"},[n("div",{staticClass:"me-toast_loading-spinner"},[n("me-loading")],1),t._v(" "),n("div",{staticClass:"me-toast_loading-text",domProps:{innerHTML:t._s(t.message)}})]):t._e(),t._v(" "),"text"===t.type?n("div",{staticClass:"me-toast_inner"},[n("span",{staticClass:"me-toast_inner-text",domProps:{innerHTML:t._s(t.message)}})]):t._e()]):t._e()])};pe._withStripped=!0; var de=se({render:pe,staticRenderFns:[]},void 0,le,void 0,!1,void 0,!1,void 0,void 0,void 0);function ye(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function ve(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?ye(Object(n),!0).forEach((function(e){ue(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ye(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var he,me=t.extend(de),ge={message:"",visible:!1,duration:2e3,timer:null,type:"text",bgColor:"rgba(50, 50, 51, 0.88)",onOpen:null,onClose:null,cover:!1,coverColor:"rgba(0, 0, 0, 0)",loadingText:"加载中...",transition:"me-fade"},be=ve({},ge);function Oe(e){return he||((he=function(){var t=ve({},be);return new me({data:t})}()).vm=he.$mount(),document.body.appendChild(he.$el)),Object.assign(he.$data,ve({},be,{},e)),t.nextTick((function(){he.show()})),he}function _e(t){t||console.warn("[Melody Toast]: message不能为空")}var we=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return _e(t),Oe(ve({type:"text",message:t},e))};return we.text=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return _e(t),Oe(ve({type:"text",message:t},e))},we.loading=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:be.loadingText,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return _e(t),Oe(ve({type:"loading",cover:!0,message:t},e))},we.clear=function(){return function(){if(he)return t.nextTick((function(){he.hide()})),he}()},we.setDefaultOptions=function(t){Object.assign(be,t)},we.resetDefaultOptions=function(){Object.assign(be,ge)},we.install=function(t){t.prototype.$toast=we},we}));
